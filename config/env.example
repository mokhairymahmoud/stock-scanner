# Environment
ENVIRONMENT=development
LOG_LEVEL=info

# Database (TimescaleDB)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=stock_scanner
DB_SSL_MODE=disable
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# Market Data Provider
MARKET_DATA_PROVIDER=alpaca
MARKET_DATA_API_KEY=your_api_key_here
MARKET_DATA_API_SECRET=your_api_secret_here
MARKET_DATA_BASE_URL=https://api.alpaca.markets
MARKET_DATA_WS_URL=wss://stream.data.alpaca.markets/v2/iex
MARKET_DATA_SYMBOLS=AAPL,MSFT,GOOGL,AMZN,TSLA

# Ingest Service
INGEST_PORT=8080
INGEST_HEALTH_PORT=8081
INGEST_STREAM_NAME=ticks
INGEST_BATCH_SIZE=100
INGEST_BATCH_TIMEOUT=100ms
INGEST_RECONNECT_DELAY=1s
INGEST_MAX_RECONNECT_DELAY=30s

# Bar Aggregator Service
BARS_PORT=8082
BARS_HEALTH_PORT=8083
BARS_CONSUMER_GROUP=bars-aggregator
BARS_BATCH_SIZE=1000
BARS_WRITE_INTERVAL=1s
# Database write configuration
BARS_DB_WRITE_BATCH_SIZE=1000
BARS_DB_WRITE_INTERVAL=1s
BARS_DB_WRITE_QUEUE_SIZE=10000
BARS_DB_MAX_RETRIES=3
BARS_DB_RETRY_DELAY=100ms

# Indicator Engine Service
INDICATOR_PORT=8084
INDICATOR_HEALTH_PORT=8085
INDICATOR_CONSUMER_GROUP=indicator-engine
INDICATOR_UPDATE_INTERVAL=1s

# Scanner Worker Service
SCANNER_PORT=8086
SCANNER_HEALTH_PORT=8087
SCANNER_WORKER_ID=worker-1
SCANNER_WORKER_COUNT=1
SCANNER_SCAN_INTERVAL=1s
SCANNER_SYMBOL_UNIVERSE=AAPL,MSFT,GOOGL,AMZN,TSLA
SCANNER_COOLDOWN_DEFAULT=5m
SCANNER_BUFFER_SIZE=1000
SCANNER_RULE_STORE_TYPE=memory
# SCANNER_RULE_STORE_TYPE can be "memory" (default) or "redis"
# Use "redis" for production to share rules across workers
SCANNER_RULE_RELOAD_INTERVAL=30s
# SCANNER_RULE_RELOAD_INTERVAL is how often the scanner reloads rules from Redis
# Default is 30s. Set to 0 to disable automatic reloading (not recommended)

# Alert Service
ALERT_PORT=8092
ALERT_HEALTH_PORT=8093
ALERT_CONSUMER_GROUP=alert-service
ALERT_STREAM_NAME=alerts
ALERT_BATCH_SIZE=100
ALERT_PROCESS_TIMEOUT=5s
ALERT_DEDUPE_TTL=1h
ALERT_COOLDOWN_TTL=5m
ALERT_FILTERED_STREAM_NAME=alerts.filtered
# Database write configuration
ALERT_DB_WRITE_BATCH_SIZE=100
ALERT_DB_WRITE_INTERVAL=5s
ALERT_DB_WRITE_QUEUE_SIZE=1000
ALERT_DB_MAX_RETRIES=3
ALERT_DB_RETRY_DELAY=1s

# WebSocket Gateway Service
WS_GATEWAY_PORT=8088
WS_GATEWAY_HEALTH_PORT=8089
WS_GATEWAY_READ_TIMEOUT=60s
WS_GATEWAY_WRITE_TIMEOUT=10s
WS_GATEWAY_PING_INTERVAL=30s
WS_GATEWAY_MAX_CONNECTIONS=1000
WS_GATEWAY_JWT_SECRET=your_jwt_secret_here
WS_GATEWAY_ALERT_STREAM=alerts.filtered
WS_GATEWAY_CONSUMER_GROUP=ws-gateway

# REST API Service
API_PORT=8090
API_HEALTH_PORT=8091
API_JWT_SECRET=your_jwt_secret_here
API_JWT_EXPIRY=24h
API_RATE_LIMIT_RPS=100

